<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:ui="http://java.sun.com/jsf/facelets">  
<h:head>
<meta charset="UTF-8"/>
<title>Lista dos Livros Cadastrados</title>
<h:outputStylesheet library="css" name="bootstrap.min.css"/>
<h:outputStylesheet library="css" name="style-admin.css"/>
</h:head>
<h:body>
	<div class="container">			
		<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
		  <a class="navbar-brand" href="../index.xhtml">AluraJavaEE</a>
	
		  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
		    <ul class="navbar-nav mr-auto">
		     <li class="nav-item ">
		        <a class="nav-link" href="livrosForm.xhtml">Cadastrar Livro</a>
		      </li>
		       <li class="nav-item active ">
		        <a class="nav-link" href="#">Listar Livros</a>
		      </li>
		      <li class="nav-item ">
		        <a class="nav-link" href="#{request.contextPath}/autor/autorForm.xhtml">Cadastrar Autor</a>
		      </li>
		       <li class="nav-item">
		        <a class="nav-link" href="#{request.contextPath}/autor/listaAutores.xhtml">Listar Autores</a>
		      </li>
		    </ul>
		  </div>
		</nav>
		
		<h:messages />
		<h2>Lista de Livros</h2>
		<h:dataTable var="livro" value="#{adminListaLivrosBean.listar()}" class="table table-bordered table-hover">
			<h:column>
				<f:facet name="header" >Titulo</f:facet>
				#{livro.titulo}
			</h:column>	
			<h:column>
				<f:facet name="header">Descricao</f:facet>
				#{livro.descricao}
			</h:column>
			<h:column>
				<f:facet name="header">Numero de Paginas</f:facet>
				#{livro.numPaginas}
			</h:column>
			<h:column>
				<f:facet name="header">Preco</f:facet>
				#{livro.preco}
			</h:column>
			<h:column>
				<f:facet name="header">Autores</f:facet>
				<ui:repeat var="autor" value="#{livro.autores}">
					<div>
						#{autor.nome}	
					</div>				
				</ui:repeat>			
			</h:column>
			<h:column>
				<f:facet name="header">Capa</f:facet>
				<img src="#{request.contextPath}/file#{livro.pathCapaImg}" height="150" width="100"/>
			</h:column>
		</h:dataTable>	
	</div>
</h:body>
</html>